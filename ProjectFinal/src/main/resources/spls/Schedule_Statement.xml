<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.min.sche.mapper.ScheduleDaoImpl">

	<select id="getTeamSchedule" resultType="ScheduleVo" parameterType="java.util.List">
	
		SELECT PROJ_NAME, WBS_CODE, WBS_NAME, WBS_CONENT, WBS_START_DATE, WBS_END_DATE
			FROM WBS_VIEW WHERE WBS_MANAGER IN
			(
			<foreach collection="list" item="item" separator="," index="index">
				#{item}
			</foreach>
			)
			
	</select>
	
	<insert id="pScheduleInsert" parameterType="java.util.Map">
		INSERT INTO SCHEDULE
			(SCHE_ID, MEM_ID, SCHE_NAME, SCHE_CONTENT, SCHE_START, SCHE_END)
			VALUES(#{sId}, #{mId}, #{sName}, #{sCont}, #{start}, #{end})
	</insert>
	
	<update id="pScheduleUpdate" parameterType="java.util.Map">
		UPDATE SCHEDULE
			SET SCHE_NAME=#{sName}, SCHE_CONTENT=#{sCont}, SCHE_START=#{start}, SCHE_END=#{end}
			WHERE SCHE_ID=#{sId} AND MEM_ID=#{mId}
	</update>
	
	<delete id="pScheduleDelete" parameterType="java.util.Map">
		DELETE FROM SCHEDULE
			WHERE SCHE_ID=#{sId} AND MEM_ID=#{mId}
	</delete>

</mapper>
